<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>本站 - 私密文章模块 | Young Kbt blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <noscript><meta http-equiv="refresh" content="0; url=https://www.youngkbt.cn/noscript/"><style>.theme-vdoing-content { display:none }</noscript>
    <script src="https://fastly.jsdelivr.net/npm/twikoo@1.4.18/dist/twikoo.all.min.js"></script>
    <script>var _hmt = _hmt || [];
          (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?267c5680c2ffb468ca29c45ffe6801da"; 
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
          })();
          </script>
    <meta name="description" content="Young Kbt个人博客, VuePress搭建, 使用了 Vdoing 主题, 学习Java, Web, 框架, 微服务, 工具, 前端等相关知识, 记录生活和技术路程, 同时分享编程技巧。">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="keywords" content="Young Kbt个人博客, VuePress搭建, 学习Java、Web、框架、微服务、工具、前端等相关知识, 记录生活和技术路程。">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.1b4ae9fe.css" as="style"><link rel="preload" href="/assets/js/app.54d6ba7b.js" as="script"><link rel="preload" href="/assets/js/2.987bc333.js" as="script"><link rel="preload" href="/assets/js/335.6d41b768.js" as="script"><link rel="preload" href="/assets/js/15.0df286a9.js" as="script"><link rel="preload" href="/assets/js/8.2849a6c1.js" as="script"><link rel="preload" href="/assets/js/10.d2509b9c.js" as="script"><link rel="preload" href="/assets/js/16.51e1ec1e.js" as="script"><link rel="preload" href="/assets/js/12.b3f130f5.js" as="script"><link rel="prefetch" href="/assets/js/100.7790dd31.js"><link rel="prefetch" href="/assets/js/101.6069a4c9.js"><link rel="prefetch" href="/assets/js/102.98092168.js"><link rel="prefetch" href="/assets/js/103.9b7ba5c7.js"><link rel="prefetch" href="/assets/js/104.67586ec3.js"><link rel="prefetch" href="/assets/js/105.5ed10bd9.js"><link rel="prefetch" href="/assets/js/106.5e82f701.js"><link rel="prefetch" href="/assets/js/107.09abe023.js"><link rel="prefetch" href="/assets/js/108.a6627411.js"><link rel="prefetch" href="/assets/js/109.fdb06211.js"><link rel="prefetch" href="/assets/js/11.b9198ca3.js"><link rel="prefetch" href="/assets/js/110.f161dfe1.js"><link rel="prefetch" href="/assets/js/111.50576e70.js"><link rel="prefetch" href="/assets/js/112.9156d6a5.js"><link rel="prefetch" href="/assets/js/113.82dc6754.js"><link rel="prefetch" href="/assets/js/114.473d9db6.js"><link rel="prefetch" href="/assets/js/115.2f4ab3e0.js"><link rel="prefetch" href="/assets/js/116.fafee970.js"><link rel="prefetch" href="/assets/js/117.332a8303.js"><link rel="prefetch" href="/assets/js/118.717f470b.js"><link rel="prefetch" href="/assets/js/119.fe748a32.js"><link rel="prefetch" href="/assets/js/120.c9723944.js"><link rel="prefetch" href="/assets/js/121.9bea1378.js"><link rel="prefetch" href="/assets/js/122.18ad244f.js"><link rel="prefetch" href="/assets/js/123.cf68e8d2.js"><link rel="prefetch" href="/assets/js/124.bc469ea5.js"><link rel="prefetch" href="/assets/js/125.ccfa31da.js"><link rel="prefetch" href="/assets/js/126.6c2e6617.js"><link rel="prefetch" href="/assets/js/127.c6de8e02.js"><link rel="prefetch" href="/assets/js/128.453befbd.js"><link rel="prefetch" href="/assets/js/129.3e1b1ac4.js"><link rel="prefetch" href="/assets/js/13.96302368.js"><link rel="prefetch" href="/assets/js/130.42c82f36.js"><link rel="prefetch" href="/assets/js/131.81f41c07.js"><link rel="prefetch" href="/assets/js/132.d1282d17.js"><link rel="prefetch" href="/assets/js/133.4bc5b0b4.js"><link rel="prefetch" href="/assets/js/134.c02be97d.js"><link rel="prefetch" href="/assets/js/135.4d761712.js"><link rel="prefetch" href="/assets/js/136.320e85a7.js"><link rel="prefetch" href="/assets/js/137.8d878aef.js"><link rel="prefetch" href="/assets/js/138.eb7d1b27.js"><link rel="prefetch" href="/assets/js/139.1d873005.js"><link rel="prefetch" href="/assets/js/14.dca94608.js"><link rel="prefetch" href="/assets/js/140.0f786836.js"><link rel="prefetch" href="/assets/js/141.a0cff34a.js"><link rel="prefetch" href="/assets/js/142.c326a8cc.js"><link rel="prefetch" href="/assets/js/143.4f7ff3ae.js"><link rel="prefetch" href="/assets/js/144.32ec69a6.js"><link rel="prefetch" href="/assets/js/145.1d7d913f.js"><link rel="prefetch" href="/assets/js/146.2707ffd4.js"><link rel="prefetch" href="/assets/js/147.99a0f39c.js"><link rel="prefetch" href="/assets/js/148.f1798ad5.js"><link rel="prefetch" href="/assets/js/149.322a3c79.js"><link rel="prefetch" href="/assets/js/150.ac84cfb1.js"><link rel="prefetch" href="/assets/js/151.5c8b38f9.js"><link rel="prefetch" href="/assets/js/152.62081035.js"><link rel="prefetch" href="/assets/js/153.973e4495.js"><link rel="prefetch" href="/assets/js/154.03f67868.js"><link rel="prefetch" href="/assets/js/155.61e62017.js"><link rel="prefetch" href="/assets/js/156.59cd0795.js"><link rel="prefetch" href="/assets/js/157.be555671.js"><link rel="prefetch" href="/assets/js/158.1b114b30.js"><link rel="prefetch" href="/assets/js/159.a1d0d052.js"><link rel="prefetch" href="/assets/js/160.b666147c.js"><link rel="prefetch" href="/assets/js/161.f5ee61fb.js"><link rel="prefetch" href="/assets/js/162.8062c527.js"><link rel="prefetch" href="/assets/js/163.fcb5fe32.js"><link rel="prefetch" href="/assets/js/164.6bbbb363.js"><link rel="prefetch" href="/assets/js/165.30b2341e.js"><link rel="prefetch" href="/assets/js/166.47358c46.js"><link rel="prefetch" href="/assets/js/167.b3f775a8.js"><link rel="prefetch" href="/assets/js/168.20c539f5.js"><link rel="prefetch" href="/assets/js/169.69a844a9.js"><link rel="prefetch" href="/assets/js/17.c8edb760.js"><link rel="prefetch" href="/assets/js/170.3bdbb1ac.js"><link rel="prefetch" href="/assets/js/171.c07e33a0.js"><link rel="prefetch" href="/assets/js/172.3a9e6b61.js"><link rel="prefetch" href="/assets/js/173.ea92250a.js"><link rel="prefetch" href="/assets/js/174.e719f6d3.js"><link rel="prefetch" href="/assets/js/175.8f27ee02.js"><link rel="prefetch" href="/assets/js/176.7168a5a6.js"><link rel="prefetch" href="/assets/js/177.ec194b14.js"><link rel="prefetch" href="/assets/js/178.25afe039.js"><link rel="prefetch" href="/assets/js/179.5d766b63.js"><link rel="prefetch" href="/assets/js/18.63dc22a1.js"><link rel="prefetch" href="/assets/js/180.873f5d1c.js"><link rel="prefetch" href="/assets/js/181.cb0780d9.js"><link rel="prefetch" href="/assets/js/182.73203d56.js"><link rel="prefetch" href="/assets/js/183.e1894bda.js"><link rel="prefetch" href="/assets/js/184.5d1c3ed3.js"><link rel="prefetch" href="/assets/js/185.0651204a.js"><link rel="prefetch" href="/assets/js/186.9651e6d1.js"><link rel="prefetch" href="/assets/js/187.b00c9281.js"><link rel="prefetch" href="/assets/js/188.37c5b593.js"><link rel="prefetch" href="/assets/js/189.3d552a83.js"><link rel="prefetch" href="/assets/js/19.d982cb4a.js"><link rel="prefetch" href="/assets/js/190.3dc0f050.js"><link rel="prefetch" href="/assets/js/191.021cc406.js"><link rel="prefetch" href="/assets/js/192.32e0833b.js"><link rel="prefetch" href="/assets/js/193.0515c946.js"><link rel="prefetch" href="/assets/js/194.8b7eeba2.js"><link rel="prefetch" href="/assets/js/195.a3931535.js"><link rel="prefetch" href="/assets/js/196.27c63011.js"><link rel="prefetch" href="/assets/js/197.9bb65fa4.js"><link rel="prefetch" href="/assets/js/198.ddadf100.js"><link rel="prefetch" href="/assets/js/199.475e18ef.js"><link rel="prefetch" href="/assets/js/20.cadb2e5e.js"><link rel="prefetch" href="/assets/js/200.21480449.js"><link rel="prefetch" href="/assets/js/201.48e22863.js"><link rel="prefetch" href="/assets/js/202.9babefcb.js"><link rel="prefetch" href="/assets/js/203.a82ebe12.js"><link rel="prefetch" href="/assets/js/204.5ac4af6a.js"><link rel="prefetch" href="/assets/js/205.a2c985f2.js"><link rel="prefetch" href="/assets/js/206.84f6c7da.js"><link rel="prefetch" href="/assets/js/207.a9282d37.js"><link rel="prefetch" href="/assets/js/208.23e668b5.js"><link rel="prefetch" href="/assets/js/209.4ccb5992.js"><link rel="prefetch" href="/assets/js/21.07dc002d.js"><link rel="prefetch" href="/assets/js/210.42774d77.js"><link rel="prefetch" href="/assets/js/211.2b5b7172.js"><link rel="prefetch" href="/assets/js/212.c401fba6.js"><link rel="prefetch" href="/assets/js/213.2ae13e77.js"><link rel="prefetch" href="/assets/js/214.0532e22e.js"><link rel="prefetch" href="/assets/js/215.a47019da.js"><link rel="prefetch" href="/assets/js/216.d04a4738.js"><link rel="prefetch" href="/assets/js/217.a795f21c.js"><link rel="prefetch" href="/assets/js/218.d6342419.js"><link rel="prefetch" href="/assets/js/219.67247d19.js"><link rel="prefetch" href="/assets/js/22.09a75b09.js"><link rel="prefetch" href="/assets/js/220.d4de8cce.js"><link rel="prefetch" href="/assets/js/221.cf4625cf.js"><link rel="prefetch" href="/assets/js/222.70761539.js"><link rel="prefetch" href="/assets/js/223.9d4d7f7c.js"><link rel="prefetch" href="/assets/js/224.ca45b950.js"><link rel="prefetch" href="/assets/js/225.65569db8.js"><link rel="prefetch" href="/assets/js/226.d20a204f.js"><link rel="prefetch" href="/assets/js/227.d6057ccf.js"><link rel="prefetch" href="/assets/js/228.f8711a8b.js"><link rel="prefetch" href="/assets/js/229.f795ee40.js"><link rel="prefetch" href="/assets/js/23.3af3961b.js"><link rel="prefetch" href="/assets/js/230.c5bf17df.js"><link rel="prefetch" href="/assets/js/231.6ccb01aa.js"><link rel="prefetch" href="/assets/js/232.6bb5af6a.js"><link rel="prefetch" href="/assets/js/233.74b02883.js"><link rel="prefetch" href="/assets/js/234.7ec66f25.js"><link rel="prefetch" href="/assets/js/235.4e679dd0.js"><link rel="prefetch" href="/assets/js/236.fd82bd3f.js"><link rel="prefetch" href="/assets/js/237.877c8ee4.js"><link rel="prefetch" href="/assets/js/238.9d44ddc5.js"><link rel="prefetch" href="/assets/js/239.88dc7f86.js"><link rel="prefetch" href="/assets/js/24.3db06987.js"><link rel="prefetch" href="/assets/js/240.3080bd08.js"><link rel="prefetch" href="/assets/js/241.4278764b.js"><link rel="prefetch" href="/assets/js/242.a19b849d.js"><link rel="prefetch" href="/assets/js/243.ebdf37e8.js"><link rel="prefetch" href="/assets/js/244.a942a89b.js"><link rel="prefetch" href="/assets/js/245.b57e1eec.js"><link rel="prefetch" href="/assets/js/246.28b29f2c.js"><link rel="prefetch" href="/assets/js/247.0ef4e3c1.js"><link rel="prefetch" href="/assets/js/248.cc3ca371.js"><link rel="prefetch" href="/assets/js/249.1efb811a.js"><link rel="prefetch" href="/assets/js/25.dbee7081.js"><link rel="prefetch" href="/assets/js/250.d82da262.js"><link rel="prefetch" href="/assets/js/251.f9d72d0c.js"><link rel="prefetch" href="/assets/js/252.53fdda2e.js"><link rel="prefetch" href="/assets/js/253.d348ea7a.js"><link rel="prefetch" href="/assets/js/254.ac960631.js"><link rel="prefetch" href="/assets/js/255.1d2389e5.js"><link rel="prefetch" href="/assets/js/256.5b6ce50e.js"><link rel="prefetch" href="/assets/js/257.ff095016.js"><link rel="prefetch" href="/assets/js/258.389064d9.js"><link rel="prefetch" href="/assets/js/259.b9d7286e.js"><link rel="prefetch" href="/assets/js/26.adf0b0e4.js"><link rel="prefetch" href="/assets/js/260.f52a5eaa.js"><link rel="prefetch" href="/assets/js/261.879ff563.js"><link rel="prefetch" href="/assets/js/262.efff98d4.js"><link rel="prefetch" href="/assets/js/263.4bafe038.js"><link rel="prefetch" href="/assets/js/264.af31984d.js"><link rel="prefetch" href="/assets/js/265.83d15a65.js"><link rel="prefetch" href="/assets/js/266.47f295e7.js"><link rel="prefetch" href="/assets/js/267.e10e6e86.js"><link rel="prefetch" href="/assets/js/268.aeda9416.js"><link rel="prefetch" href="/assets/js/269.01e00d8d.js"><link rel="prefetch" href="/assets/js/27.a09568b7.js"><link rel="prefetch" href="/assets/js/270.68ecd5f1.js"><link rel="prefetch" href="/assets/js/271.144eb96c.js"><link rel="prefetch" href="/assets/js/272.f1f0e6e1.js"><link rel="prefetch" href="/assets/js/273.0695776f.js"><link rel="prefetch" href="/assets/js/274.b72e9dc8.js"><link rel="prefetch" href="/assets/js/275.820cff25.js"><link rel="prefetch" href="/assets/js/276.c4d662ed.js"><link rel="prefetch" href="/assets/js/277.ca26b9a9.js"><link rel="prefetch" href="/assets/js/278.8fe04339.js"><link rel="prefetch" href="/assets/js/279.3cf0fb79.js"><link rel="prefetch" href="/assets/js/28.8522e871.js"><link rel="prefetch" href="/assets/js/280.0ff1ed10.js"><link rel="prefetch" href="/assets/js/281.0dba041d.js"><link rel="prefetch" href="/assets/js/282.e184e901.js"><link rel="prefetch" href="/assets/js/283.46d1e534.js"><link rel="prefetch" href="/assets/js/284.c4917c43.js"><link rel="prefetch" href="/assets/js/285.ffccb5f9.js"><link rel="prefetch" href="/assets/js/286.bc81fdce.js"><link rel="prefetch" href="/assets/js/287.ea0d8624.js"><link rel="prefetch" href="/assets/js/288.914c8f81.js"><link rel="prefetch" href="/assets/js/289.edc93779.js"><link rel="prefetch" href="/assets/js/29.48504f8f.js"><link rel="prefetch" href="/assets/js/290.d4c1f6c5.js"><link rel="prefetch" href="/assets/js/291.7f43446c.js"><link rel="prefetch" href="/assets/js/292.d90f6753.js"><link rel="prefetch" href="/assets/js/293.88cf30a0.js"><link rel="prefetch" href="/assets/js/294.c4250799.js"><link rel="prefetch" href="/assets/js/295.9ead9645.js"><link rel="prefetch" href="/assets/js/296.51125f03.js"><link rel="prefetch" href="/assets/js/297.aa7c8ff1.js"><link rel="prefetch" href="/assets/js/298.8aa97386.js"><link rel="prefetch" href="/assets/js/299.e351d41a.js"><link rel="prefetch" href="/assets/js/3.b8840315.js"><link rel="prefetch" href="/assets/js/30.ab50951f.js"><link rel="prefetch" href="/assets/js/300.07622915.js"><link rel="prefetch" href="/assets/js/301.7df4de13.js"><link rel="prefetch" href="/assets/js/302.14c807d9.js"><link rel="prefetch" href="/assets/js/303.760c93ec.js"><link rel="prefetch" href="/assets/js/304.1c4be5e0.js"><link rel="prefetch" href="/assets/js/305.6e396510.js"><link rel="prefetch" href="/assets/js/306.b434b51d.js"><link rel="prefetch" href="/assets/js/307.2ece86f9.js"><link rel="prefetch" href="/assets/js/308.1b1d40fe.js"><link rel="prefetch" href="/assets/js/309.a0349454.js"><link rel="prefetch" href="/assets/js/31.5b301d35.js"><link rel="prefetch" href="/assets/js/310.f460a66c.js"><link rel="prefetch" href="/assets/js/311.62ba953e.js"><link rel="prefetch" href="/assets/js/312.542adc5a.js"><link rel="prefetch" href="/assets/js/313.f8d84934.js"><link rel="prefetch" href="/assets/js/314.563e02ce.js"><link rel="prefetch" href="/assets/js/315.35a56124.js"><link rel="prefetch" href="/assets/js/316.fcfc99b9.js"><link rel="prefetch" href="/assets/js/317.ab419a81.js"><link rel="prefetch" href="/assets/js/318.09868032.js"><link rel="prefetch" href="/assets/js/319.cd4a2f71.js"><link rel="prefetch" href="/assets/js/32.14e2b32d.js"><link rel="prefetch" href="/assets/js/320.f96cac88.js"><link rel="prefetch" href="/assets/js/321.db211473.js"><link rel="prefetch" href="/assets/js/322.12e691e6.js"><link rel="prefetch" href="/assets/js/323.549c4612.js"><link rel="prefetch" href="/assets/js/324.b639f06a.js"><link rel="prefetch" href="/assets/js/325.5e71a439.js"><link rel="prefetch" href="/assets/js/326.ad57a53f.js"><link rel="prefetch" href="/assets/js/327.5a3a2d51.js"><link rel="prefetch" href="/assets/js/328.00c78ffa.js"><link rel="prefetch" href="/assets/js/329.156e03ea.js"><link rel="prefetch" href="/assets/js/33.bd519343.js"><link rel="prefetch" href="/assets/js/330.73424725.js"><link rel="prefetch" href="/assets/js/331.11e3f9ce.js"><link rel="prefetch" href="/assets/js/332.3f7b0419.js"><link rel="prefetch" href="/assets/js/333.59386bf4.js"><link rel="prefetch" href="/assets/js/334.31f3eb29.js"><link rel="prefetch" href="/assets/js/336.c453e943.js"><link rel="prefetch" href="/assets/js/337.31d277ef.js"><link rel="prefetch" href="/assets/js/338.e68a1ec6.js"><link rel="prefetch" href="/assets/js/339.4914f8c3.js"><link rel="prefetch" href="/assets/js/34.78e22d0b.js"><link rel="prefetch" href="/assets/js/340.235d25c1.js"><link rel="prefetch" href="/assets/js/341.bade90f6.js"><link rel="prefetch" href="/assets/js/342.7cac50b9.js"><link rel="prefetch" href="/assets/js/343.284d3e3f.js"><link rel="prefetch" href="/assets/js/344.352d29bf.js"><link rel="prefetch" href="/assets/js/345.c9fd0276.js"><link rel="prefetch" href="/assets/js/346.1a14ef3a.js"><link rel="prefetch" href="/assets/js/347.e52f390d.js"><link rel="prefetch" href="/assets/js/348.827a8296.js"><link rel="prefetch" href="/assets/js/349.4c54e1fc.js"><link rel="prefetch" href="/assets/js/35.a4bef8e9.js"><link rel="prefetch" href="/assets/js/350.6b7c5868.js"><link rel="prefetch" href="/assets/js/351.f8f88567.js"><link rel="prefetch" href="/assets/js/352.f923869f.js"><link rel="prefetch" href="/assets/js/353.a0c0ee42.js"><link rel="prefetch" href="/assets/js/354.1fda9ab5.js"><link rel="prefetch" href="/assets/js/355.3a43f499.js"><link rel="prefetch" href="/assets/js/356.5140ec5f.js"><link rel="prefetch" href="/assets/js/357.00444d3e.js"><link rel="prefetch" href="/assets/js/358.78f5dd00.js"><link rel="prefetch" href="/assets/js/36.3af3d0bb.js"><link rel="prefetch" href="/assets/js/37.94b40e5c.js"><link rel="prefetch" href="/assets/js/38.82cde1a6.js"><link rel="prefetch" href="/assets/js/39.bd194854.js"><link rel="prefetch" href="/assets/js/4.003f2a3c.js"><link rel="prefetch" href="/assets/js/40.838ecd61.js"><link rel="prefetch" href="/assets/js/41.bfb79e8e.js"><link rel="prefetch" href="/assets/js/42.a52d6409.js"><link rel="prefetch" href="/assets/js/43.d1f58b40.js"><link rel="prefetch" href="/assets/js/44.3952a257.js"><link rel="prefetch" href="/assets/js/45.64536f97.js"><link rel="prefetch" href="/assets/js/46.a5f78ce8.js"><link rel="prefetch" href="/assets/js/47.10d1f9fc.js"><link rel="prefetch" href="/assets/js/48.e51e4e79.js"><link rel="prefetch" href="/assets/js/49.ac3117dc.js"><link rel="prefetch" href="/assets/js/5.65df04d1.js"><link rel="prefetch" href="/assets/js/50.ebc563d9.js"><link rel="prefetch" href="/assets/js/51.22e42d13.js"><link rel="prefetch" href="/assets/js/52.df77e2dd.js"><link rel="prefetch" href="/assets/js/53.0f5ed981.js"><link rel="prefetch" href="/assets/js/54.ba4a6f18.js"><link rel="prefetch" href="/assets/js/55.fe9280eb.js"><link rel="prefetch" href="/assets/js/56.da8234e0.js"><link rel="prefetch" href="/assets/js/57.00838775.js"><link rel="prefetch" href="/assets/js/58.85da1b48.js"><link rel="prefetch" href="/assets/js/59.0f89d046.js"><link rel="prefetch" href="/assets/js/6.70c51a3d.js"><link rel="prefetch" href="/assets/js/60.95112e0b.js"><link rel="prefetch" href="/assets/js/61.a86b3712.js"><link rel="prefetch" href="/assets/js/62.95c83899.js"><link rel="prefetch" href="/assets/js/63.704c8ac8.js"><link rel="prefetch" href="/assets/js/64.5f90d722.js"><link rel="prefetch" href="/assets/js/65.f37a3716.js"><link rel="prefetch" href="/assets/js/66.f676288f.js"><link rel="prefetch" href="/assets/js/67.c872bca2.js"><link rel="prefetch" href="/assets/js/68.ccf0178a.js"><link rel="prefetch" href="/assets/js/69.1fbb06cc.js"><link rel="prefetch" href="/assets/js/7.8ea17f4b.js"><link rel="prefetch" href="/assets/js/70.66a7cb5d.js"><link rel="prefetch" href="/assets/js/71.a2160150.js"><link rel="prefetch" href="/assets/js/72.1fc6bfd7.js"><link rel="prefetch" href="/assets/js/73.fb869733.js"><link rel="prefetch" href="/assets/js/74.cf915b5d.js"><link rel="prefetch" href="/assets/js/75.d3d494af.js"><link rel="prefetch" href="/assets/js/76.22c87fc9.js"><link rel="prefetch" href="/assets/js/77.5358d116.js"><link rel="prefetch" href="/assets/js/78.ba2f0658.js"><link rel="prefetch" href="/assets/js/79.a05cdfd2.js"><link rel="prefetch" href="/assets/js/80.994c0106.js"><link rel="prefetch" href="/assets/js/81.78d4c69a.js"><link rel="prefetch" href="/assets/js/82.21b6c123.js"><link rel="prefetch" href="/assets/js/83.3d9732fd.js"><link rel="prefetch" href="/assets/js/84.405d9c73.js"><link rel="prefetch" href="/assets/js/85.8d9255d4.js"><link rel="prefetch" href="/assets/js/86.a14c0da2.js"><link rel="prefetch" href="/assets/js/87.25358e99.js"><link rel="prefetch" href="/assets/js/88.039542e2.js"><link rel="prefetch" href="/assets/js/89.f26ae52c.js"><link rel="prefetch" href="/assets/js/9.01b93349.js"><link rel="prefetch" href="/assets/js/90.7d735a95.js"><link rel="prefetch" href="/assets/js/91.73ad2a1b.js"><link rel="prefetch" href="/assets/js/92.64891120.js"><link rel="prefetch" href="/assets/js/93.73c3f4b8.js"><link rel="prefetch" href="/assets/js/94.080ad5a2.js"><link rel="prefetch" href="/assets/js/95.38e708da.js"><link rel="prefetch" href="/assets/js/96.1e0dda22.js"><link rel="prefetch" href="/assets/js/97.201f51a3.js"><link rel="prefetch" href="/assets/js/98.37fcc02a.js"><link rel="prefetch" href="/assets/js/99.7bb997eb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1b4ae9fe.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/index/logo.png" alt="Young Kbt blog" class="logo"> <span class="site-name can-hide">Young Kbt blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/navigation/" class="nav-link">导航站</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><a href="/java/" class="link-title">Java</a> <span class="title" style="display:none;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>java基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/se/" class="nav-link">Java基础</a></li><li class="dropdown-subitem"><a href="/java/collection/" class="nav-link">Java集合</a></li><li class="dropdown-subitem"><a href="/java/se/reflect/" class="nav-link">Java反射</a></li><li class="dropdown-subitem"><a href="/java/juc/" class="nav-link">JavaJUC</a></li><li class="dropdown-subitem"><a href="/java/jvm/" class="nav-link">JavaJVM</a></li></ul></li><li class="dropdown-item"><h4>Java容器</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javaweb/concept/" class="nav-link">JavaWeb</a></li></ul></li><li class="dropdown-item"><h4>Java版本新特性</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/new-features/" class="nav-link">Java新特性</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/oracle/" class="nav-link">Oracle</a></li></ul></li><li class="dropdown-item"><h4>NoSQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/es/" class="nav-link">ElasticSearch</a></li><li class="dropdown-subitem"><a href="/mongodb/" class="nav-link">MongoDB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><a href="/frames/" class="link-title">框架</a> <span class="title" style="display:none;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mybatis/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/mybatis-plus/" class="nav-link">MyBatis-Plus</a></li></ul></li><li class="dropdown-item"><h4>消息中间件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/activemq/" class="nav-link">ActiveMQ</a></li><li class="dropdown-subitem"><a href="/rabbitmq/" class="nav-link">RabbitMQ</a></li><li class="dropdown-subitem"><a href="/rocketmq/" class="nav-link">RocketMQ</a></li><li class="dropdown-subitem"><a href="/kafka/" class="nav-link">Kafka</a></li></ul></li><li class="dropdown-item"><h4>进阶服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/nginx/" class="nav-link">Nginx</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring生态" class="dropdown-title"><a href="/spring-ecology/" class="link-title">Spring生态</a> <span class="title" style="display:none;">Spring生态</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/spring/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/spring-mvc/" class="nav-link">Spring MVC</a></li><li class="dropdown-item"><!----> <a href="/spring-boot/" class="nav-link">Spring Boot</a></li><li class="dropdown-item"><!----> <a href="/spring-security/" class="nav-link">Spring Security</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发" class="dropdown-title"><a href="/dev-guide/" class="link-title">开发</a> <span class="title" style="display:none;">开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/design-pattern/" class="nav-link">设计模式</a></li><li class="dropdown-item"><!----> <a href="/algorithm/" class="nav-link">算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><a href="/tool/" class="link-title">工具</a> <span class="title" style="display:none;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>管理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/maven/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/git/" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>部署</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/docker/" class="nav-link">Docker</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/front/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/html/" class="nav-link">Html</a></li><li class="dropdown-subitem"><a href="/css/" class="nav-link">css</a></li><li class="dropdown-subitem"><a href="/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/vue2/" class="nav-link">Vue2</a></li><li class="dropdown-subitem"><a href="/vue3/" class="nav-link">Vue3</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><!----> <span class="title" style="display:;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whells-use/" class="nav-link">轮子工具</a></li><li class="dropdown-item"><!----> <a href="/projects/" class="nav-link">项目工程</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>本站</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">归档</a></li></ul></li><li class="dropdown-item"><h4>我的</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whell/web/" class="nav-link">收藏</a></li><li class="dropdown-subitem"><a href="/about/website/introduce/" class="nav-link">关于</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/message-area/" class="nav-link">留言区</a></div> <a href="https://github.com/Kele-Bingtang/Kele-Bingtang.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://fastly.jsdelivr.net/gh/Kele-Bingtang/static/user/avatar2.png"> <div class="blogger-info"><h3>Shp Liu</h3> <span>朝圣的使徒，正在走向编程的至高殿堂！</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/navigation/" class="nav-link">导航站</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><a href="/java/" class="link-title">Java</a> <span class="title" style="display:none;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>java基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/se/" class="nav-link">Java基础</a></li><li class="dropdown-subitem"><a href="/java/collection/" class="nav-link">Java集合</a></li><li class="dropdown-subitem"><a href="/java/se/reflect/" class="nav-link">Java反射</a></li><li class="dropdown-subitem"><a href="/java/juc/" class="nav-link">JavaJUC</a></li><li class="dropdown-subitem"><a href="/java/jvm/" class="nav-link">JavaJVM</a></li></ul></li><li class="dropdown-item"><h4>Java容器</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javaweb/concept/" class="nav-link">JavaWeb</a></li></ul></li><li class="dropdown-item"><h4>Java版本新特性</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/new-features/" class="nav-link">Java新特性</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/oracle/" class="nav-link">Oracle</a></li></ul></li><li class="dropdown-item"><h4>NoSQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/es/" class="nav-link">ElasticSearch</a></li><li class="dropdown-subitem"><a href="/mongodb/" class="nav-link">MongoDB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><a href="/frames/" class="link-title">框架</a> <span class="title" style="display:none;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mybatis/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/mybatis-plus/" class="nav-link">MyBatis-Plus</a></li></ul></li><li class="dropdown-item"><h4>消息中间件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/activemq/" class="nav-link">ActiveMQ</a></li><li class="dropdown-subitem"><a href="/rabbitmq/" class="nav-link">RabbitMQ</a></li><li class="dropdown-subitem"><a href="/rocketmq/" class="nav-link">RocketMQ</a></li><li class="dropdown-subitem"><a href="/kafka/" class="nav-link">Kafka</a></li></ul></li><li class="dropdown-item"><h4>进阶服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/nginx/" class="nav-link">Nginx</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring生态" class="dropdown-title"><a href="/spring-ecology/" class="link-title">Spring生态</a> <span class="title" style="display:none;">Spring生态</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/spring/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/spring-mvc/" class="nav-link">Spring MVC</a></li><li class="dropdown-item"><!----> <a href="/spring-boot/" class="nav-link">Spring Boot</a></li><li class="dropdown-item"><!----> <a href="/spring-security/" class="nav-link">Spring Security</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发" class="dropdown-title"><a href="/dev-guide/" class="link-title">开发</a> <span class="title" style="display:none;">开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/design-pattern/" class="nav-link">设计模式</a></li><li class="dropdown-item"><!----> <a href="/algorithm/" class="nav-link">算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><a href="/tool/" class="link-title">工具</a> <span class="title" style="display:none;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>管理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/maven/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/git/" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>部署</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/docker/" class="nav-link">Docker</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/front/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/html/" class="nav-link">Html</a></li><li class="dropdown-subitem"><a href="/css/" class="nav-link">css</a></li><li class="dropdown-subitem"><a href="/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/vue2/" class="nav-link">Vue2</a></li><li class="dropdown-subitem"><a href="/vue3/" class="nav-link">Vue3</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><!----> <span class="title" style="display:;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/whells-use/" class="nav-link">轮子工具</a></li><li class="dropdown-item"><!----> <a href="/projects/" class="nav-link">项目工程</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>本站</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">归档</a></li></ul></li><li class="dropdown-item"><h4>我的</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whell/web/" class="nav-link">收藏</a></li><li class="dropdown-subitem"><a href="/about/website/introduce/" class="nav-link">关于</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/message-area/" class="nav-link">留言区</a></div> <a href="https://github.com/Kele-Bingtang/Kele-Bingtang.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>关于 - 自我</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>关于 - 本站</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/about/website/introduce/" class="sidebar-link">本站 - 介绍</a></li><li><a href="/about/website/plan/" class="sidebar-link">本站 - 规划</a></li><li><a href="/about/website/build/" class="sidebar-link">本站 - 搭建</a></li><li><a href="/about/website/theme/" class="sidebar-link">本站 - 主题</a></li><li><a href="/about/website/deploy/" class="sidebar-link">本站 - 网站部署</a></li><li><a href="/about/website/server/" class="sidebar-link">本站 - 服务器部署</a></li><li><a href="/about/website/comment/" class="sidebar-link">本站 - 评论模块</a></li><li><a href="/about/website/info/" class="sidebar-link">本站 - 站点信息模块</a></li><li><a href="/about/website/style/" class="sidebar-link">本站 - 自定义样式模块</a></li><li><a href="/about/website/lastReading/" class="sidebar-link">本站 - 记录曾阅读位置模块</a></li><li><a href="/about/website/private/" aria-current="page" class="active sidebar-link">本站 - 私密文章模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/about/website/private/#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header level2"><a href="/about/website/private/#组件添加" class="sidebar-link">组件添加</a></li><li class="sidebar-sub-header level2"><a href="/about/website/private/#组件引用" class="sidebar-link">组件引用</a></li><li class="sidebar-sub-header level2"><a href="/about/website/private/#路由监听" class="sidebar-link">路由监听</a></li><li class="sidebar-sub-header level2"><a href="/about/website/private/#安全检测代码" class="sidebar-link">安全检测代码</a></li><li class="sidebar-sub-header level2"><a href="/about/website/private/#配置添加" class="sidebar-link">配置添加</a></li><li class="sidebar-sub-header level2"><a href="/about/website/private/#配置介绍" class="sidebar-link">配置介绍</a></li><li class="sidebar-sub-header level2"><a href="/about/website/private/#key介绍" class="sidebar-link">key介绍</a></li><li class="sidebar-sub-header level2"><a href="/about/website/private/#开启私密文章" class="sidebar-link">开启私密文章</a></li><li class="sidebar-sub-header level2"><a href="/about/website/private/#进入网站验证" class="sidebar-link">进入网站验证</a></li><li class="sidebar-sub-header level2"><a href="/about/website/private/#管理员验证" class="sidebar-link">管理员验证</a></li><li class="sidebar-sub-header level2"><a href="/about/website/private/#全局私密验证" class="sidebar-link">全局私密验证</a></li><li class="sidebar-sub-header level2"><a href="/about/website/private/#单私密文章验证" class="sidebar-link">单私密文章验证</a></li><li class="sidebar-sub-header level2"><a href="/about/website/private/#举例" class="sidebar-link">举例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/about/website/private/#例1" class="sidebar-link">例1</a></li><li class="sidebar-sub-header level3"><a href="/about/website/private/#例2" class="sidebar-link">例2</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/about/website/private/#结束语" class="sidebar-link">结束语</a></li></ul></li><li><a href="/about/website/tools/" class="sidebar-link">本站 - 导航站模块</a></li><li><a href="/about/website/index-big-img/" class="sidebar-link">本站 - 首页大图模块</a></li><li><a href="/about/website/code-block-hidden/" class="sidebar-link">本站 - 代码块隐藏模块</a></li><li><a href="/about/website/global-tip/" class="sidebar-link">本站 - 全局时间提示模块</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>关于 - 首页</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>关于 - 技巧</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>关于 - 随笔</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E5%85%B3%E4%BA%8E" title="分类" data-v-06225672>关于</a></li><li data-v-06225672><a href="/categories/?category=%E5%85%B3%E4%BA%8E%20-%20%E6%9C%AC%E7%AB%99" title="分类" data-v-06225672>关于 - 本站</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://www.youngkbt.cn" target="_blank" title="作者" class="beLink" data-v-06225672>Young Kbt </a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-01-07</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">本站 - 私密文章模块<span class="title-tag">原创</span></h1> <!----> <div class="theme-vdoing-content content__default"><div class="custom-block note"><p class="custom-block-title">笔记</p> <p>本站实现了私密文章功能，当大家想要「云端备份」到博客时，又不希望别人看到，该功能能满足你。</p> <div class="custom-block right"><p>2022-01-07 @Young Kbt</p></div></div> <p></p><div class="table-of-contents"><ul><li><a href="#前言">前言</a></li><li><a href="#组件添加">组件添加</a></li><li><a href="#组件引用">组件引用</a></li><li><a href="#路由监听">路由监听</a></li><li><a href="#安全检测代码">安全检测代码</a></li><li><a href="#配置添加">配置添加</a></li><li><a href="#配置介绍">配置介绍</a></li><li><a href="#key介绍">key介绍</a></li><li><a href="#开启私密文章">开启私密文章</a></li><li><a href="#进入网站验证">进入网站验证</a></li><li><a href="#管理员验证">管理员验证</a></li><li><a href="#全局私密验证">全局私密验证</a></li><li><a href="#单私密文章验证">单私密文章验证</a></li><li><a href="#举例">举例</a><ul><li><a href="#例1">例1</a></li><li><a href="#例2">例2</a></li></ul></li><li><a href="#结束语">结束语</a></li></ul></div><p></p> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>目前适用版本是 Vdoing v1.x。</p> <p>本功能不是插件，好处在于你可以自定义喜欢的页面。</p> <p>如果你想先体验私密文章的效果，请访问：</p> <ul><li><p><a href="/private/test1/">全局私密文章测试</a></p></li> <li><p><a href="/private/test2/">单个私密文章测试</a></p></li></ul> <p>本模块分为四步：</p> <ul><li>创建 Login.vue 组件</li> <li>创建一个 markdown 文档，引用 Login.vue 组件</li> <li>监听路由，跳转前判断是否为私有文章，是否登录过，或是否登录状态过期</li> <li>在 themeConfig 里添加一些配置信息</li></ul> <p>本模块功能：</p> <ul><li>网站验证功能：用于封锁整个网站，当第一次访问网站，需要进行验证登录，支持多组用户名和密码</li> <li>私密文章验证功能：访问一篇文章时要进行验证登录，支持一篇私密文章多组用户名和密码</li> <li>管理员验证功能：以管理员进行验证成功，网站和所有私密文章无需验证，直接访问</li> <li>有效时间功能：验证成功后，在有效时间内的访问都不需要验证，支持天和小时为单位</li></ul> <h2 id="组件添加"><a href="#组件添加" class="header-anchor">#</a> 组件添加</h2> <p>首先在 .vuepress/config.js 的 head 模块添加在线图标。图标库来自阿里云：<code>https://www.iconfont.cn/</code>。</p> <p>如果你没有账号，或者觉得添加比较麻烦，就使用我的图标库地址，<strong>当你发现图标失效了，就请来这里获取新的地址，如果还没有更新，请在评论区留言</strong>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token string">'link'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">rel</span><span class="token operator">:</span> <span class="token string">'stylesheet'</span><span class="token punctuation">,</span> <span class="token literal-property property">href</span><span class="token operator">:</span> <span class="token string">'https://at.alicdn.com/t/font_3129839_xft6cqs5gc.css'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 阿里在线图标</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://fastly.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20220111135854.png" alt="image-20220111135835581"></p> <p>在 doc/.vuepress 目录下，创建 components 文件夹，如果有，则不需要创建。</p> <p>接着在 components 文件夹下创建 <code>Login.vue</code> 组件，该组件是登录的表单，可以根据需求自行修改。</p> <p><strong>一定是 components 文件夹且路径要对，因为 Vuepress 会自动全局注册该文件夹下的所有 .vue 组件。</strong></p> <p>在 Login.vue 添加如下内容：</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login-form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>用户名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-control<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请输入用户名 ...<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>密码<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-control<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请输入密码 ...<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn-row<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>登录<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">privateInfo</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">loginKey</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">expire</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">loginInfo</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">allLoginKey</span><span class="token operator">:</span> <span class="token string">&quot;kbt&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Enter 键也能触发登录按钮</span>
    document<span class="token punctuation">.</span><span class="token function-variable function">onkeyup</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> key <span class="token operator">=</span> window<span class="token punctuation">.</span>event<span class="token punctuation">.</span>keyCode<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">==</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * 登录验证
     */</span>
    <span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> <span class="token punctuation">{</span> privateInfo <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
      <span class="token comment">// 获取全局配置</span>
      <span class="token keyword">let</span> <span class="token punctuation">{</span> username<span class="token punctuation">,</span> password<span class="token punctuation">,</span> loginKey<span class="token punctuation">,</span> expire<span class="token punctuation">,</span> firstLoginKey<span class="token punctuation">,</span> loginInfo <span class="token punctuation">}</span> <span class="token operator">=</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$themeConfig<span class="token punctuation">.</span>privatePage<span class="token punctuation">;</span>
      <span class="token operator">!</span>loginKey <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>loginKey <span class="token operator">=</span> <span class="token string">&quot;vdoing_manager&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 默认为 vdoing_manager</span>
      <span class="token comment">// 计算正确的过期时间</span>
      expire <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getExpire</span><span class="token punctuation">(</span>expire<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token operator">!</span>expire <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>expire <span class="token operator">=</span> <span class="token number">86400000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 进入网站前进行验证</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>verifyMode <span class="token operator">==</span> <span class="token string">&quot;first&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          privateInfo<span class="token punctuation">.</span>expire <span class="token operator">=</span> expire<span class="token punctuation">;</span>
          <span class="token operator">!</span>firstLoginKey <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>firstLoginKey <span class="token operator">=</span> <span class="token string">&quot;vdoing_first_login&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 默认为 vdoing_first_login</span>
          <span class="token comment">// 检查 loginInfo 是否验证成功</span>
          <span class="token keyword">let</span> check <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>loginInfo <span class="token operator">&amp;&amp;</span> loginInfo<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>firstLoginKey<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            check <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkLoginInfoAndJump</span><span class="token punctuation">(</span>
              loginInfo<span class="token punctuation">[</span>firstLoginKey<span class="token punctuation">]</span><span class="token punctuation">,</span>
              firstLoginKey
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token comment">// 如果第一次进入网站以管理员登录，则网站的所有私密文章不再需要验证</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>
            <span class="token operator">!</span>check <span class="token operator">&amp;&amp;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">==</span> username <span class="token operator">&amp;&amp;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">==</span> password
          <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 如果管理员登录，直接 key = vdoing_manager，不需要再次 key = vdoing_first_login</span>
            <span class="token comment">// this.storageLocalAndJump(firstLoginKey, false);</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">storageLocalAndJump</span><span class="token punctuation">(</span>loginKey<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>check<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 清空密码</span>
            <span class="token function">addTip</span><span class="token punctuation">(</span>
              <span class="token string">&quot;用户名或者密码错误！请联系博主获取用户名和密码！&quot;</span><span class="token punctuation">,</span>
              <span class="token string">&quot;danger&quot;</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token comment">// 如果是单个文章验证</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>verifyMode <span class="token operator">==</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>$filterPosts<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>path <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>toPath<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  privateInfo<span class="token punctuation">.</span>username <span class="token operator">=</span> item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>username<span class="token punctuation">;</span>
                  privateInfo<span class="token punctuation">.</span>password <span class="token operator">=</span> item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>password<span class="token punctuation">;</span>
                  privateInfo<span class="token punctuation">.</span>loginKey <span class="token operator">=</span> item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>permalink<span class="token punctuation">;</span>
                  privateInfo<span class="token punctuation">.</span>expire <span class="token operator">=</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getExpire</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>expire<span class="token punctuation">)</span> <span class="token operator">||</span> expire<span class="token punctuation">;</span>
                  privateInfo<span class="token punctuation">.</span>loginInfo <span class="token operator">=</span> item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>loginInfo<span class="token punctuation">;</span>
                  <span class="token comment">// 利用异常机制跳出 forEach 循环，break、return、continue 不会起作用</span>
                  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
          <span class="token comment">// checkLoginInfo：判断是否进行了 loginInfo 验证</span>
          <span class="token keyword">let</span> checkLoginInfo <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
          <span class="token comment">// 如果没有配置单私密文章用户信息，则使用全局配置</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>
            <span class="token operator">!</span>privateInfo<span class="token punctuation">.</span>username <span class="token operator">&amp;&amp;</span>
            <span class="token operator">!</span>privateInfo<span class="token punctuation">.</span>password <span class="token operator">&amp;&amp;</span>
            <span class="token operator">!</span>privateInfo<span class="token punctuation">.</span>loginInfo
          <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            privateInfo<span class="token punctuation">.</span>loginKey <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>toPath<span class="token punctuation">;</span>
            privateInfo<span class="token punctuation">.</span>loginInfo <span class="token operator">=</span> loginInfo<span class="token punctuation">;</span>
            privateInfo<span class="token punctuation">.</span>expire <span class="token operator">?</span> <span class="token string">&quot;&quot;</span> <span class="token operator">:</span> <span class="token punctuation">(</span>privateInfo<span class="token punctuation">.</span>expire <span class="token operator">=</span> expire<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token comment">// 先进行 loginInfo 验证</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>privateInfo<span class="token punctuation">.</span>loginInfo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 如果是数组：即单个文章设置的 loginInfo</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>privateInfo<span class="token punctuation">.</span>loginInfo<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              checkLoginInfo <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkLoginInfoAndJump</span><span class="token punctuation">(</span>
                privateInfo<span class="token punctuation">.</span>loginInfo
              <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>
              privateInfo<span class="token punctuation">.</span>loginInfo<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>toPath<span class="token punctuation">)</span>
            <span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// 如果是对象，即全局设置的 loginInfo</span>
              checkLoginInfo <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkLoginInfoAndJump</span><span class="token punctuation">(</span>
                privateInfo<span class="token punctuation">.</span>loginInfo<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>toPath<span class="token punctuation">]</span>
              <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
          <span class="token comment">// 如果没有触发 loginInfo 验证或者 loginInfo 验证失败，则进行单个用户名密码验证</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>checkLoginInfo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 如果使用文章配置的用户名密码</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">==</span> privateInfo<span class="token punctuation">.</span>username <span class="token operator">&amp;&amp;</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">==</span> privateInfo<span class="token punctuation">.</span>password
            <span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">storageLocalAndJump</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>privateInfo<span class="token punctuation">.</span>loginKey<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>
              <span class="token comment">// 如果使用全局配置的用户名密码</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">==</span> username <span class="token operator">&amp;&amp;</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">==</span> password
            <span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">storageLocalAndJump</span><span class="token punctuation">(</span>loginKey<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 清空密码</span>
              <span class="token function">addTip</span><span class="token punctuation">(</span>
                <span class="token string">&quot;用户名或者密码错误！请联系博主获取用户名和密码！&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;danger&quot;</span>
              <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">addTip</span><span class="token punctuation">(</span><span class="token string">&quot;用户名不能为空！&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;warning&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">addTip</span><span class="token punctuation">(</span><span class="token string">&quot;密码不能为空！&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;warning&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">addTip</span><span class="token punctuation">(</span><span class="token string">&quot;您访问的文章是私密文章，请先输入用户名和密码！&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;info&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * 检查 loginInfo 里的用户名和密码
     * 匹配成功返回 true，失败返回 false
     */</span>
    <span class="token function">checkLoginInfoAndJump</span><span class="token punctuation">(</span>
      <span class="token parameter">loginInfo <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>privateInfo<span class="token punctuation">.</span>loginInfo<span class="token punctuation">,</span>
      loginKey <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>privateInfo<span class="token punctuation">.</span>loginKey</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        loginInfo<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">==</span> item<span class="token punctuation">.</span>username <span class="token operator">&amp;&amp;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">==</span> item<span class="token punctuation">.</span>password
          <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">storageLocalAndJump</span><span class="token punctuation">(</span>loginKey<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 利用异常机制跳出 forEach 循环，break、return、continue 不会起作用</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * 添加登录信息到本地存储区，并跳转到私密文章
     * loginKey：存储到本地的 key，方便自动验证
     * jump：是否跳转到私密文章，默认存储到本地后跳转
     */</span>
    <span class="token function">storageLocalAndJump</span><span class="token punctuation">(</span><span class="token parameter">loginKey <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>privateInfo<span class="token punctuation">.</span>loginKey<span class="token punctuation">,</span> jump <span class="token operator">=</span> <span class="token boolean">true</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>username<span class="token punctuation">,</span>
        <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>password<span class="token punctuation">,</span>
        <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">expire</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>privateInfo<span class="token punctuation">.</span>expire<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>loginKey<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>jump<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">addTip</span><span class="token punctuation">(</span><span class="token string">&quot;登录成功，正在跳转 ...&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>toPath<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>toPath<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * 计算过期时间
     */</span>
    <span class="token function">getExpire</span><span class="token punctuation">(</span><span class="token parameter">expire</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>expire<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>expire<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          expire <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>expire<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span> <span class="token comment">// 天</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>expire<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;h&quot;</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          expire <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>expire<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;h&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span> <span class="token comment">// 小时</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          expire <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>expire<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span> <span class="token comment">// 不加单位为秒</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> expire<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 添加消息提示
 * content：内容
 * type：弹窗类型（tip、success、warning、danger）
 * startHeight：第一个弹窗的高度，默认 50
 * dieTime：弹窗消失时间（毫秒），默认 3000 毫秒
 */</span>
<span class="token keyword">function</span> <span class="token function">addTip</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> type<span class="token punctuation">,</span> startHeight <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">,</span> dieTime <span class="token operator">=</span> <span class="token number">3000</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> tip <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;.global-tip&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 获取最后消息提示元素的高度</span>
  <span class="token keyword">var</span> top <span class="token operator">=</span> tip<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> tip<span class="token punctuation">[</span>tip<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;data-top&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 如果产生两个以上的消息提示，则出现在上一个提示的下面，即高度添加，否则默认 50</span>
  <span class="token keyword">var</span> lastTop <span class="token operator">=</span>
    <span class="token function">parseInt</span><span class="token punctuation">(</span>top<span class="token punctuation">)</span> <span class="token operator">+</span>
    <span class="token punctuation">(</span>tip<span class="token punctuation">.</span>length <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">?</span> tip<span class="token punctuation">[</span>tip<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>offsetHeight <span class="token operator">+</span> <span class="token number">17</span> <span class="token operator">:</span> startHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  div<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">global-tip tip-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>time<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>top<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
  div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;data-top&quot;</span><span class="token punctuation">,</span> lastTop<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">&quot;info&quot;</span> <span class="token operator">||</span> type <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;i class=&quot;iconfont icon-info icon&quot;&gt;&lt;/i&gt;&lt;p class=&quot;tip-info-content&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>content<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">&quot;success&quot;</span> <span class="token operator">||</span> type <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;i class=&quot;iconfont icon-dagouyouquan icon&quot;&gt;&lt;/i&gt;&lt;p class=&quot;tip-success-content&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>content<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">&quot;danger&quot;</span> <span class="token operator">||</span> type <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;i class=&quot;iconfont icon-cuowu icon&quot;&gt;&lt;/i&gt;&lt;p class=&quot;tip-danger-content&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>content<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">&quot;warning&quot;</span> <span class="token operator">||</span> type <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;i class=&quot;iconfont icon-gantanhao icon&quot;&gt;&lt;/i&gt;&lt;p class=&quot;tip-warning-content&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>content<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> timeTip <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    timeTip<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>lastTop<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
    timeTip<span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 消息提示 dieTime 秒后隐藏并被删除</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    timeTip<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token string">&quot;0px&quot;</span><span class="token punctuation">;</span>
    timeTip<span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// 下面的所有元素回到各自曾经的出发点</span>
    <span class="token keyword">var</span> allTipElement <span class="token operator">=</span> <span class="token function">nextAllTipElement</span><span class="token punctuation">(</span>timeTip<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> allTipElement<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> next <span class="token operator">=</span> allTipElement<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> top <span class="token operator">=</span>
        <span class="token function">parseInt</span><span class="token punctuation">(</span>next<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;data-top&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> next<span class="token punctuation">.</span>offsetHeight <span class="token operator">-</span> <span class="token number">17</span><span class="token punctuation">;</span>
      next<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;data-top&quot;</span><span class="token punctuation">,</span> top<span class="token punctuation">)</span><span class="token punctuation">;</span>
      next<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> top <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      timeTip<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> dieTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * 获取后面的兄弟元素
 */</span>
<span class="token keyword">function</span> <span class="token function">nextAllTipElement</span><span class="token punctuation">(</span><span class="token parameter">elem</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> n <span class="token operator">=</span> elem<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> n<span class="token punctuation">;</span> n <span class="token operator">=</span> n<span class="token punctuation">.</span>nextSibling<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> n <span class="token operator">!==</span> elem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      r<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> r<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylus<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.login-form</span> <span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
  <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>

  <span class="token selector">.btn-row</span> <span class="token punctuation">{</span>
    <span class="token property">margin-top</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.btn</span> <span class="token punctuation">{</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0.6rem 2rem<span class="token punctuation">;</span>
    <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #60C084<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.form-header</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #13b9e2<span class="token punctuation">;</span>
    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.form-control</span> <span class="token punctuation">{</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0.6rem<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 2px solid #ddd<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span>
    <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
    <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> border 0.2s ease<span class="token punctuation">;</span>

    <span class="token selector">&amp;:focus</span> <span class="token punctuation">{</span>
      <span class="token property">border</span><span class="token punctuation">:</span> 2px solid #aaa<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token selector">div.v-dialog-overlay</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 1 <span class="token important">!important</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.global-tip</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> -10px<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">min-width</span><span class="token punctuation">:</span> 320px<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> opacity 0.3s linear<span class="token punctuation">,</span> top 0.4s<span class="token punctuation">,</span> transform 0.4s<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 99999<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 15px 15px 15px 20px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ebeef5<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
  <span class="token property">grid-row</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 17px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.global-tip p</span> <span class="token punctuation">{</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 17px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.icon</span> <span class="token punctuation">{</span>
  <span class="token property">margin-right</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 17px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.tip-success</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #67c23a<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #f0f9eb<span class="token punctuation">;</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> #e1f3d8<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.tip-success .tip-success-content</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #67c23a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.tip-danger</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #f56c6c<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #fef0f0<span class="token punctuation">;</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> #fde2e2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.tip-danger .tip-danger-content</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #f56c6c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.tip-info</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #edf2fc<span class="token punctuation">;</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> #ebeef5<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.tip-info .tip-info-content</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #909399<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.tip-warning</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #e6a23c<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #fdf6ec<span class="token punctuation">;</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> #faecd8<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.tip-warning .tip-warning-content</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #e6a23c<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 21px<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br><span class="line-number">291</span><br><span class="line-number">292</span><br><span class="line-number">293</span><br><span class="line-number">294</span><br><span class="line-number">295</span><br><span class="line-number">296</span><br><span class="line-number">297</span><br><span class="line-number">298</span><br><span class="line-number">299</span><br><span class="line-number">300</span><br><span class="line-number">301</span><br><span class="line-number">302</span><br><span class="line-number">303</span><br><span class="line-number">304</span><br><span class="line-number">305</span><br><span class="line-number">306</span><br><span class="line-number">307</span><br><span class="line-number">308</span><br><span class="line-number">309</span><br><span class="line-number">310</span><br><span class="line-number">311</span><br><span class="line-number">312</span><br><span class="line-number">313</span><br><span class="line-number">314</span><br><span class="line-number">315</span><br><span class="line-number">316</span><br><span class="line-number">317</span><br><span class="line-number">318</span><br><span class="line-number">319</span><br><span class="line-number">320</span><br><span class="line-number">321</span><br><span class="line-number">322</span><br><span class="line-number">323</span><br><span class="line-number">324</span><br><span class="line-number">325</span><br><span class="line-number">326</span><br><span class="line-number">327</span><br><span class="line-number">328</span><br><span class="line-number">329</span><br><span class="line-number">330</span><br><span class="line-number">331</span><br><span class="line-number">332</span><br><span class="line-number">333</span><br><span class="line-number">334</span><br><span class="line-number">335</span><br><span class="line-number">336</span><br><span class="line-number">337</span><br><span class="line-number">338</span><br><span class="line-number">339</span><br><span class="line-number">340</span><br><span class="line-number">341</span><br><span class="line-number">342</span><br><span class="line-number">343</span><br><span class="line-number">344</span><br><span class="line-number">345</span><br><span class="line-number">346</span><br><span class="line-number">347</span><br><span class="line-number">348</span><br><span class="line-number">349</span><br><span class="line-number">350</span><br><span class="line-number">351</span><br><span class="line-number">352</span><br><span class="line-number">353</span><br><span class="line-number">354</span><br><span class="line-number">355</span><br><span class="line-number">356</span><br><span class="line-number">357</span><br><span class="line-number">358</span><br><span class="line-number">359</span><br><span class="line-number">360</span><br><span class="line-number">361</span><br><span class="line-number">362</span><br><span class="line-number">363</span><br><span class="line-number">364</span><br><span class="line-number">365</span><br><span class="line-number">366</span><br><span class="line-number">367</span><br><span class="line-number">368</span><br><span class="line-number">369</span><br><span class="line-number">370</span><br><span class="line-number">371</span><br><span class="line-number">372</span><br><span class="line-number">373</span><br><span class="line-number">374</span><br><span class="line-number">375</span><br><span class="line-number">376</span><br><span class="line-number">377</span><br><span class="line-number">378</span><br><span class="line-number">379</span><br><span class="line-number">380</span><br><span class="line-number">381</span><br><span class="line-number">382</span><br><span class="line-number">383</span><br><span class="line-number">384</span><br><span class="line-number">385</span><br><span class="line-number">386</span><br><span class="line-number">387</span><br><span class="line-number">388</span><br><span class="line-number">389</span><br><span class="line-number">390</span><br><span class="line-number">391</span><br><span class="line-number">392</span><br><span class="line-number">393</span><br><span class="line-number">394</span><br><span class="line-number">395</span><br><span class="line-number">396</span><br><span class="line-number">397</span><br><span class="line-number">398</span><br><span class="line-number">399</span><br><span class="line-number">400</span><br><span class="line-number">401</span><br><span class="line-number">402</span><br><span class="line-number">403</span><br><span class="line-number">404</span><br><span class="line-number">405</span><br><span class="line-number">406</span><br><span class="line-number">407</span><br><span class="line-number">408</span><br><span class="line-number">409</span><br><span class="line-number">410</span><br><span class="line-number">411</span><br><span class="line-number">412</span><br><span class="line-number">413</span><br><span class="line-number">414</span><br><span class="line-number">415</span><br><span class="line-number">416</span><br><span class="line-number">417</span><br><span class="line-number">418</span><br><span class="line-number">419</span><br><span class="line-number">420</span><br><span class="line-number">421</span><br><span class="line-number">422</span><br><span class="line-number">423</span><br></div></div><h2 id="组件引用"><a href="#组件引用" class="header-anchor">#</a> 组件引用</h2> <p>Login.vue 文件写好后需要引用，<strong>在 docs 目录下</strong> 的任意位置创建一个 markdown 文档，如我就在 docs 的根目录下创建 <code>99.Vdoing私密文章登录.md</code> 文件。</p> <p>添加如下内容：(需要修改 frontmatter 为自己的内容)</p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> Vdoing私密文章登录   <span class="token comment"># 可修改</span>
<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2022-01-07 14:26:04</span> <span class="token comment"># 你的创建时间，可修改</span>
<span class="token key atrule">permalink</span><span class="token punctuation">:</span> /vdoing/login/  <span class="token comment"># 可修改，建议按步骤使用，后面用到这个 permalink，否则要改一起改</span>
<span class="token key atrule">sidebar</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
<span class="token key atrule">article</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
<span class="token key atrule">comment</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
<span class="token key atrule">editLink</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
<span class="token punctuation">---</span>

您当前访问的是博主的私密文章，请输入有效的用户名和密码。如果没有，请在评论区或者其他途径向博主获取。

&lt;ClientOnly<span class="token punctuation">&gt;</span>
  &lt;Login/<span class="token punctuation">&gt;</span>
&lt;/ClientOnly<span class="token punctuation">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>记住你的 <code>permalink</code>，后面的 <a href="#%E9%85%8D%E7%BD%AE%E6%B7%BB%E5%8A%A0">配置添加</a> 需要用到。</p> <p><code>&lt;ClientOnly&gt;</code> 大部分情况下可加可不加，少部分情况的官方介绍：<code>https://v2.vuepress.vuejs.org/zh/reference/components.html#clientonly</code>。</p> <h2 id="路由监听"><a href="#路由监听" class="header-anchor">#</a> 路由监听</h2> <p>打开 docs/enhanceApp.js 文件，添加如下内容：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    Vue<span class="token punctuation">,</span> <span class="token comment">// VuePress 正在使用的 Vue 构造函数</span>
    options<span class="token punctuation">,</span> <span class="token comment">// 附加到根实例的一些选项</span>
    router<span class="token punctuation">,</span> <span class="token comment">// 当前应用的路由实例</span>
    siteData<span class="token punctuation">,</span> <span class="token comment">// 站点元数据</span>
    isServer <span class="token comment">// 当前应用配置是处于 服务端渲染 或 客户端</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * 私密文章验证
   */</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isServer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 如果开启了私密文章验证</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>
      siteData<span class="token punctuation">.</span>themeConfig<span class="token punctuation">.</span>privatePage <span class="token operator">&amp;&amp;</span>
      siteData<span class="token punctuation">.</span>themeConfig<span class="token punctuation">.</span>privatePage<span class="token punctuation">.</span>openPrivate
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> <span class="token punctuation">{</span>
            username<span class="token punctuation">,</span>
            password<span class="token punctuation">,</span>
            loginPath<span class="token punctuation">,</span>
            loginKey<span class="token punctuation">,</span>
            loginSession<span class="token punctuation">,</span>
            loginInfo<span class="token punctuation">,</span>
            firstLogin<span class="token punctuation">,</span>
            firstLoginKey<span class="token punctuation">,</span>
          <span class="token punctuation">}</span> <span class="token operator">=</span> siteData<span class="token punctuation">.</span>themeConfig<span class="token punctuation">.</span>privatePage<span class="token punctuation">;</span>
          <span class="token operator">!</span>loginKey <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>loginKey <span class="token operator">=</span> <span class="token string">&quot;vdoing_manager&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 默认为 vdoing_manager</span>
          <span class="token operator">!</span>firstLoginKey <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>firstLoginKey <span class="token operator">=</span> <span class="token string">&quot;vdoing_first_login&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 默认为 vdoing_first_login</span>
          <span class="token comment">// 网站关闭或者刷新后，清除登录状态</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>loginSession<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;unload&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>loginKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
              localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>firstLoginKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token comment">// 如果是登录页面，不需要验证</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>loginPath <span class="token operator">==</span> to<span class="token punctuation">.</span>path <span class="token operator">||</span> <span class="token operator">!</span>loginPath<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;无需验证&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token comment">// 尝试获取管理员曾经登录的用户信息</span>
          <span class="token keyword">let</span> globalInfo <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>loginKey<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// 管理员用户名密码验证</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>
            globalInfo <span class="token operator">&amp;&amp;</span>
            globalInfo<span class="token punctuation">.</span>username <span class="token operator">==</span> username <span class="token operator">&amp;&amp;</span>
            globalInfo<span class="token punctuation">.</span>password <span class="token operator">==</span> password
          <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 存在曾经登录信息，如果登录状态过期</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> globalInfo<span class="token punctuation">.</span>time <span class="token operator">&gt;</span> globalInfo<span class="token punctuation">.</span>expire<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>loginKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;管理员验证成功！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
          <span class="token comment">// 整个网站进入前需要验证</span>
          <span class="token keyword">let</span> isAgainLogin <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>firstLogin<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">||</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>firstLogin<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">parseInt</span><span class="token punctuation">(</span>firstLogin<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>isAgainLogin <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 尝试获取第一次访问网站曾经登录的用户信息</span>
            <span class="token keyword">let</span> firstLoginInfo <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>
              localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>firstLoginKey<span class="token punctuation">)</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">!</span>firstLoginInfo <span class="token operator">&amp;&amp;</span> <span class="token function">jumpToLogin</span><span class="token punctuation">(</span>loginPath<span class="token punctuation">,</span> to<span class="token punctuation">.</span>path<span class="token punctuation">,</span> <span class="token string">&quot;first&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>firstLoginInfo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// 先判断 loginInfo 是否存在，然后判断 loginInfo 是否对象，最后判断 loginInfo 是否有 firstLoginKey</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>loginInfo <span class="token operator">&amp;&amp;</span> loginInfo<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>firstLoginKey<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 进行 loginInfo 验证</span>
                <span class="token function">checkLoginInfo</span><span class="token punctuation">(</span>loginInfo<span class="token punctuation">[</span>firstLoginKey<span class="token punctuation">]</span><span class="token punctuation">,</span> firstLoginInfo<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                  <span class="token function">jumpToLogin</span><span class="token punctuation">(</span>loginPath<span class="token punctuation">,</span> to<span class="token punctuation">.</span>path<span class="token punctuation">,</span> <span class="token string">&quot;first&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">jumpToLogin</span><span class="token punctuation">(</span>loginPath<span class="token punctuation">,</span> to<span class="token punctuation">.</span>path<span class="token punctuation">,</span> <span class="token string">&quot;first&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>path <span class="token operator">==</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;首页不需要验证！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token comment">// 如果 firstLogin 不等于 2</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>isAgainLogin<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            siteData<span class="token punctuation">.</span>pages<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token comment">// 找出带有 private 的文章</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>path <span class="token operator">==</span> to<span class="token punctuation">.</span>path<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>
                  item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>private <span class="token operator">&amp;&amp;</span>
                  item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>private <span class="token operator">==</span> <span class="token boolean">true</span>
                <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token comment">// 网站关闭或者刷新后，清除登录状态</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>loginSession<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;unload&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>permalink<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>
                  <span class="token comment">// 尝试获取该私密文章曾经登录的用户信息</span>
                  <span class="token keyword">let</span> singleInfo <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>
                    localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>permalink<span class="token punctuation">)</span>
                  <span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token comment">// 都不存在登录信息</span>
                  <span class="token operator">!</span>singleInfo <span class="token operator">&amp;&amp;</span>
                    <span class="token function">jumpToLogin</span><span class="token punctuation">(</span>
                      loginPath<span class="token punctuation">,</span>
                      to<span class="token punctuation">.</span>path<span class="token punctuation">,</span>
                      item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>loginInfo <span class="token operator">||</span>
                        item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>username <span class="token operator">||</span>
                        item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>password <span class="token operator">||</span>
                        item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>expire
                        <span class="token operator">?</span> <span class="token string">&quot;single&quot;</span>
                        <span class="token operator">:</span> <span class="token string">&quot;all&quot;</span>
                    <span class="token punctuation">)</span><span class="token punctuation">;</span>

                  <span class="token comment">// 单个文章私密验证</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>
                    <span class="token punctuation">(</span>item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>username <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>password<span class="token punctuation">)</span> <span class="token operator">||</span>
                    item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>loginInfo
                  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 不存在登录信息，则跳转到登录页面</span>
                    <span class="token operator">!</span>singleInfo <span class="token operator">&amp;&amp;</span> <span class="token function">jumpToLogin</span><span class="token punctuation">(</span>loginPath<span class="token punctuation">,</span> to<span class="token punctuation">.</span>path<span class="token punctuation">,</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// 存在曾经登录信息，如果登录状态过期</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> singleInfo<span class="token punctuation">.</span>time <span class="token operator">&gt;</span> singleInfo<span class="token punctuation">.</span>expire<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>permalink<span class="token punctuation">)</span><span class="token punctuation">;</span>
                      <span class="token function">jumpToLogin</span><span class="token punctuation">(</span>loginPath<span class="token punctuation">,</span> to<span class="token punctuation">.</span>path<span class="token punctuation">,</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token comment">// 是否需要登录</span>
                    <span class="token keyword">let</span> isLogin <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                    <span class="token comment">// 对 loginInfo 进行验证</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>loginInfo<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      isLogin <span class="token operator">=</span> <span class="token function">checkLoginInfo</span><span class="token punctuation">(</span>
                        item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>loginInfo<span class="token punctuation">,</span>
                        singleInfo
                      <span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token comment">// 如果 loginInfo 不存在，则进行单文章的用户名密码验证</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>
                      isLogin <span class="token operator">&amp;&amp;</span>
                      singleInfo<span class="token punctuation">.</span>username <span class="token operator">!==</span> item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>username <span class="token operator">&amp;&amp;</span>
                      singleInfo<span class="token punctuation">.</span>password <span class="token operator">!==</span> item<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>password
                    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      <span class="token function">jumpToLogin</span><span class="token punctuation">(</span>loginPath<span class="token punctuation">,</span> to<span class="token punctuation">.</span>path<span class="token punctuation">,</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 全局私密验证</span>
                    <span class="token keyword">let</span> isLogin <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                    <span class="token comment">// 先判断 loginInfo 是否存在，然后判断 loginInfo 是否对象，最后判断 loginInfo 是否有该文章的 permalink</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>loginInfo <span class="token operator">&amp;&amp;</span> loginInfo<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      isLogin <span class="token operator">=</span> <span class="token function">checkLoginInfo</span><span class="token punctuation">(</span>loginInfo<span class="token punctuation">[</span>to<span class="token punctuation">.</span>path<span class="token punctuation">]</span><span class="token punctuation">,</span> singleInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token comment">// 如果 loginInfo 验证失败</span>
                    isLogin <span class="token operator">&amp;&amp;</span> <span class="token function">jumpToLogin</span><span class="token punctuation">(</span>loginPath<span class="token punctuation">,</span> to<span class="token punctuation">.</span>path<span class="token punctuation">,</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/**
   * 检查 loginInfo 里的用户名和密码，userInfo 为曾经登录的信息
   * 匹配成功返回 false，失败返回 true
   */</span>
  <span class="token keyword">function</span> <span class="token function">checkLoginInfo</span><span class="token punctuation">(</span><span class="token parameter">loginInfo<span class="token punctuation">,</span> userInfo</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      loginInfo<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>
          userInfo<span class="token punctuation">.</span>username <span class="token operator">==</span> info<span class="token punctuation">.</span>username <span class="token operator">&amp;&amp;</span>
          userInfo<span class="token punctuation">.</span>password <span class="token operator">==</span> info<span class="token punctuation">.</span>password
        <span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 利用异常机制跳出 forEach 循环，break、return、continue 不会起作用</span>
          <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/**
   * 跳转到登录页面
   * loginPath：登录页面的 permalink
   * toPath：当前页面的 permalink，verifyMode：验证方式
   */</span>
  <span class="token keyword">function</span> <span class="token function">jumpToLogin</span><span class="token punctuation">(</span><span class="token parameter">loginPath<span class="token punctuation">,</span> toPath<span class="token punctuation">,</span> verifyMode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> loginPath<span class="token punctuation">,</span>
      <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">toPath</span><span class="token operator">:</span> toPath<span class="token punctuation">,</span>
        <span class="token literal-property property">verifyMode</span><span class="token operator">:</span> verifyMode<span class="token punctuation">,</span> <span class="token comment">// 单个文章验证（single）或全局验证（all）或网站验证（first）</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;请先登录！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br></div></div><h2 id="安全检测代码"><a href="#安全检测代码" class="header-anchor">#</a> 安全检测代码</h2> <p>因为 Vuepress 是静态页面，所以我们无法往后端获取登录信息，那么也就有一个问题，如果用户禁用 JavaScript，那么私有文章将不会进行验证，也就是禁用了 JavaScript，可以毫无阻塞的浏览私有文章内容，那么如何处理这个问题呢？</p> <p>打开 .vuepress/config.js（新版是 config.ts）文件，给 head 模块添加如下信息：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token string">'noscript'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'&lt;meta http-equiv=&quot;refresh&quot; content=&quot;0; url=https://www.youngkbt.cn/noscript/&quot;&gt;&lt;style&gt;.theme-vdoing-content { display:none }'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>值得注意的是，<code>url</code> 不要填写自己博客的任意地址，而是填写博客以外的地址，因为博客的页面总会触发这段代码，导致反复跳转该页面。</strong></p> <p>如果你不介意的话，可以用我提供的 <code>url</code>，使用前你可以访问看看，只是一个简单的 html，<a href="https://www.youngkbt.cn/noscript/" target="_blank" rel="noopener noreferrer">点击跳转<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h2 id="配置添加"><a href="#配置添加" class="header-anchor">#</a> 配置添加</h2> <p>打开 .vuepress/config.js（新版为 config.ts） 文件，在 themeConfig 模块里添加如下内容：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 私密文章配置</span>
<span class="token literal-property property">privatePage</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">openPrivate</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 开启私密文章验证，默认开启（true），如果不开启（false），则下面配置都失效</span>
  <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;youngkbt&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 管理员用户名</span>
  <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 管理员密码</span>
  <span class="token literal-property property">expire</span><span class="token operator">:</span> <span class="token string">&quot;1d&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 登录过期时间：1d 代表 1 天，1h 代表 1 小时，仅支持这两个单位，不加单位代表秒。过期后访问私密文章重新输入用户名和密码。默认一天</span>
  <span class="token literal-property property">loginPath</span><span class="token operator">:</span> <span class="token string">&quot;/vdoing/login/&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 引用登录组件的 md 文章的 permalink（必须），无默认值</span>
  <span class="token literal-property property">loginKey</span><span class="token operator">:</span> <span class="token string">&quot;vdoing_manager&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 存储用户名信息的 key，默认是 vdoing_manager。系统通过该 key 验证是否登录、是否过期</span>
  <span class="token literal-property property">loginSession</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 开启是否在网页关闭或刷新后，清除登录状态，这样再次访问网页，需要重新登录，默认为 false（不开启）</span>
  <span class="token literal-property property">firstLogin</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 第一次进入网站需要验证。用于封锁整个网站，默认为 0（不开启），1 和 2 都代表开启，区别：1 代表虽然进入网站成功，但是网站内的私密文章仍需要单独验证，2 代表进入网站成功，网站内的私密文章不需要单独验证，也就是网站内的私密文章和普通文章一样可以访问</span>
  <span class="token literal-property property">firstLoginKey</span><span class="token operator">:</span> <span class="token string">&quot;vdoing_first_login&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 存储用户名信息的 key，firstLogin 开启后该配置生效，默认为 vdoing_first_login，系统通过该 key 验证是否登录、是否过期</span>
  <span class="token comment">// 私密文章多组用户名密码</span>
  <span class="token comment">// loginInfo: {</span>
  <span class="token comment">//   &quot;/private/test1/&quot;: [</span>
  <span class="token comment">//     { username: &quot;vdoing&quot;, password: &quot;123456&quot; },</span>
  <span class="token comment">//   ],</span>
  <span class="token comment">//   &quot;vdoing_first_login&quot; :[  // 对应 firstLoginKey 的值</span>
  <span class="token comment">//     { username: &quot;vdoing&quot;, password: &quot;123456&quot; },</span>
  <span class="token comment">//   ]</span>
  <span class="token comment">// }</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>注释的内容是配置多组用户名密码，往下看。</p> <p>如果您想封锁整个网站，进入网站前进行验证登录，<strong>请看 firstLogin 的配置介绍</strong>，它的功能也许对你有帮助。</p> <h2 id="配置介绍"><a href="#配置介绍" class="header-anchor">#</a> 配置介绍</h2> <blockquote><p><strong>openPrivate</strong></p></blockquote> <ul><li>类型：boolean</li> <li>默认值：true</li></ul> <p>开启私密文章验证，默认开启（true），如果不开启（false），则所有私密文章的配置都失效。</p> <p><strong>为什么设计这个配置呢</strong>？如果你暂时不使用私密文章模块，但是又希望网站拥有私密文章模块，担心日后找不到本文章的地址，则可以先配置，然后改为 false 失效就行。</p> <blockquote><p><strong>username</strong></p></blockquote> <ul><li>类型：<code>string</code></li> <li>默认值：undefined</li></ul> <p>管理员用户名。</p> <blockquote><p><strong>password</strong></p></blockquote> <ul><li>类型：<code>string</code></li> <li>默认值：undefined</li></ul> <p>管理员密码。</p> <blockquote><p><strong>expire</strong></p></blockquote> <ul><li>类型：<code>number</code></li> <li>默认值：1d</li></ul> <p>登录过期时间：1d 代表 1 天，1h 代表 1 小时，仅支持这两个单位，不加单位代表秒。过期后访问私密文章重新输入用户名和密码。默认一天。</p> <p>如果您想适配更多的单位，请自行修改 Login.vue 源码的 getExpire 方法（大约 225 - 236 处）。</p> <blockquote><p><strong>loginPath</strong></p></blockquote> <ul><li>类型：<code>string</code></li> <li>默认值：undefined</li></ul> <p>引用 Login.vue 组件的 markdown 文章中 frontmatter 的 permalink。</p> <blockquote><p><strong>loginKey</strong></p></blockquote> <ul><li>类型：<code>string</code></li> <li>默认值：vdoing_manager</li></ul> <p>存储用户名信息的 key。</p> <p>请不要与任意文章中 frontmatter 的 permalink 冲突。</p> <blockquote><p><strong>loginSession</strong></p></blockquote> <ul><li>类型：<code>boolean</code></li> <li>默认值：false</li></ul> <p>是否开启在文章页面关闭或刷新后，清除登录状态。这样再次访问任何私密文章，都需要重新验证登录，默认为 false（不开启）。</p> <blockquote><p><strong>firstLogin</strong></p></blockquote> <ul><li>类型：number</li> <li>默认值：0</li></ul> <p>第一次进入网站需要验证。用于封锁整个网站。</p> <p>默认为 0（不开启），1 和 2 都代表开启，区别：</p> <ul><li>1：进入网站验证成功，但是网站内的私密文章仍需要单独二次验证</li> <li>2：进入网站验证成功，网站内的私密文章都不需要单独验证，也就是网站内的私密文章和普通文章一样可以正常访问</li></ul> <p>如果您不打算设置私密文章，即网站所有文章无需二次验证，只想 <strong>单纯封锁整个网站</strong>。则 <strong>强烈建议设置为 2</strong>，因为它能 <strong>降低验证性能</strong>。源码介绍如下：</p> <ul><li>如果 firstLogin 为 1，则每次进入新的文章都要进行拦截验证，判断是否为私密文章，可能损耗几毫秒到百毫秒（跟文章数有关）</li> <li>如果 firstLogin 为 2，网站登录成功后，进入任意文章，都不会进行验证，减少了验证性能</li></ul> <blockquote><p><strong>firstLoginKey</strong></p></blockquote> <ul><li>类型：string</li> <li>默认值：vdoing_first_login</li></ul> <p>存储用户名信息的 key，firstLogin 开启后该配置生效，系统通过该 key 验证是否登录、是否过期</p> <blockquote><p><strong>loginInfo</strong></p></blockquote> <ul><li>类型：Object</li> <li>默认值：undefined</li></ul> <p>配置私密文章多组用户名密码，key 为私密文章的 permalink，value 为数组，数组可以有多个用户名和密码。</p> <h2 id="key介绍"><a href="#key介绍" class="header-anchor">#</a> key介绍</h2> <p>在配置介绍中，有两个 key：<code>loginKey</code>、<code>firstLoginKey</code>，那么他们分别有什么作用呢？</p> <p>您不希望每次进入网站或者访问私密文章都要进行验证吧，那么就需要一个有效时间，<strong>即在有效时间内，您的访问都能直接通过</strong>。</p> <p><code>loginKey</code> 和 <code>firstLoginKey</code> 就是为这个机制出现的，其实还有一个 key，所以总共有三个 key：</p> <ul><li><code>loginKey</code> 为管理员服务，如果您以管理员的身份登录，那么系统就以 loginKey 存储管理员信息，有效时间内都不会进行验证</li> <li><code>firstLoginKey</code> 为第一次访问网站服务，如果您登录成功了，那么该 key 就会存储您的登录信息，有效时间内都不会进行验证</li> <li><code>permalink</code> 为私密文章服务，当您登录某篇私密文章后，那么该 key 就会存储您的登录信息，有效时间内都不会进行验证</li></ul> <p>permalink 内部能直接获取，所以不需要配置，您要确保的就是 <strong>这三个 key 不能都是同一个值</strong>。</p> <h2 id="开启私密文章"><a href="#开启私密文章" class="header-anchor">#</a> 开启私密文章</h2> <p>如果你想开启私密文章，请在 markdown 的 frontmatter 中 <mark>额外</mark> 添加如下内容：</p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token punctuation">---</span>
<span class="token key atrule">private</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>     <span class="token comment"># 开启文章私密，必须</span>
<span class="token punctuation">---</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这是最基本也是必须的步骤，开启了私密文章，还需要匹配对应的用户名和密码，看下面。</p> <h2 id="进入网站验证"><a href="#进入网站验证" class="header-anchor">#</a> 进入网站验证</h2> <p>如果您希望您的网站不暴露出去，可以使用该 <strong>网站验证功能</strong>。</p> <p>那么配置 firstLogin 为 1 或者 2，则进入网站前需要验证，那么如何设置用户名和密码呢？</p> <p>进入网站前的验证需要用到 firstLoginKey，然后在 loginInfo 里配置 firstLoginKey 的用户名和密码。</p> <p>假设 firstLoginKey 为 <code>vdoing_first_login</code>，则 loginInfo 里配置 <code>vdoing_first_login</code> 的用户名和密码，如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">privatePage</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// 其他配置</span>
  <span class="token literal-property property">firstLogin</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 或者 2</span>
  <span class="token literal-property property">firstLoginKey</span><span class="token operator">:</span> <span class="token string">&quot;vdoing_first_login&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">loginInfo</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;vdoing_first_login&quot;</span> <span class="token operator">:</span><span class="token punctuation">[</span>  <span class="token comment">// 对应 firstLoginKey 的值</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;vdoing1&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;vdoing2&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;123456&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>这样，就能以 <code>vdoing1、123</code> 或者 <code>vdoing2、123456</code> 进行登录。</p> <blockquote><p>如果您修改了 firstLoginKey 的值，也请修改 loginInfo 里对应的值。</p></blockquote> <p>除了 loginInfo 里配置的用户名和密码登录，还可以进行管理员验证登录。</p> <h2 id="管理员验证"><a href="#管理员验证" class="header-anchor">#</a> 管理员验证</h2> <p>privatePage 里的 username 和 password 是管理员的登录信息。<strong>一旦登录管理员的账号，那么进入网站验证、网站的所有私密文章都无需验证，可以直接访问</strong>。</p> <blockquote><p>如何退出管理员的账号？</p></blockquote> <ul><li>等待 expire 时间到期</li> <li>loginSession 为 true 时，只要关闭页面或者离开页面，就会清除所有登录信息，但是这个是针对所有用户，慎用</li> <li>手动去浏览器的本地存储空间删除 loginKey 的密钥（这也是 loginSession 的原理）</li></ul> <p>如果 <mark>全局私密验证</mark> 或者 <mark>单私密文章验证</mark> 的用户名密码与管理员的一样，则以<mark>全局私密验证</mark> 或者 <mark>单私密文章验证</mark> 的用户名密码为主。</p> <h2 id="全局私密验证"><a href="#全局私密验证" class="header-anchor">#</a> 全局私密验证</h2> <p>privatePage 里的 loginInfo 可以指定私密文章的 permalink，然后配置多个用户名和密码，如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 私密文章配置</span>
<span class="token literal-property property">privatePage</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// 私密文章多组用户名密码</span>
  <span class="token literal-property property">loginInfo</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;/private1/&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 私密文章的 permalink</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;vdoing1&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;vdoing2&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;123456&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;/private2/&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;vdoing1&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;vdoing2&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;123456&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>这样就能配置 permalink 为 <code>/private1/</code> 和 <code>/private2/</code> 私密文章的用户名和密码。</p> <div class="custom-block danger"><p class="custom-block-title">警告</p> <p>如果打算使用该 loginInfo，则不能开启单私密文章验证，如果单私密文章指定了 username、password 或者 loginInfo，则该 loginInfo 失效。</p> <div class="custom-block right"><p>2022.06.07 @Young Kbt</p></div></div> <h2 id="单私密文章验证"><a href="#单私密文章验证" class="header-anchor">#</a> 单私密文章验证</h2> <p>如果你想给某个私密文章设置单独的用户名和密码等配置，请在 frontmatter 中 <mark>额外</mark> 添加如下内容：</p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token punctuation">---</span>
<span class="token key atrule">private</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>     <span class="token comment"># 开启文章私密，必须</span>
<span class="token key atrule">username</span><span class="token punctuation">:</span> vdoing  <span class="token comment"># 用户名</span>
<span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>  <span class="token comment"># 密码</span>
<span class="token key atrule">expire</span><span class="token punctuation">:</span> 2d  <span class="token comment"># 登录过期时间，可选（不填则以全局超时时间为准，如果全局也没有设置，则默认是一天）</span>
<span class="token key atrule">loginInfo</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span><span class="token key atrule">username</span><span class="token punctuation">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token string">'1'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token key atrule">username</span><span class="token punctuation">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token string">'2'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token key atrule">username</span><span class="token punctuation">:</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token string">'3'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token punctuation">-</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>可以看到 frontmatter 出现了 username、password，并且 loginInfo 里也出现多个 username、password，<strong>怎么区分？</strong></p> <ul><li>在登录方面没有任何区别。无论是以 username、password 登录，还是 loginInfo 里的多个 username、password 都可以</li> <li>在快速配置方面有区别：如果您只是想给私密文章设置一个用户名和密码，则只配置 username、password 即可，不需要配置复杂的 loginInfo</li></ul> <div class="custom-block danger"><p class="custom-block-title">警告</p> <ul><li><p>一旦在单私密文章开启 username 或 password 或 loginInfo，那么在全局的 loginInfo 的该文章用户名和密码不起效果，以单私密文章配置为主</p></li> <li><p>如果您只想给单私密文章配置 expire 登录过期时间，这是可以的，只要单私密文章不出现 username 或 password 或 loginInfo 任意这三个配置，则都以全局的 loginInfo 为准</p></li></ul> <div class="custom-block right"><p>2022.06.07 @Young Kbt</p></div></div> <h2 id="举例"><a href="#举例" class="header-anchor">#</a> 举例</h2> <h3 id="例1"><a href="#例1" class="header-anchor">#</a> 例1</h3> <p>假设一个私密文章的 frontmatter 如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">--</span><span class="token operator">-</span>
<span class="token literal-property property">title</span><span class="token operator">:</span> 私密文章测试
<span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">07</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">01</span><span class="token operator">:</span><span class="token number">37</span>
<span class="token literal-property property">permalink</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">private1</span><span class="token regex-delimiter">/</span></span>
<span class="token keyword">private</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token literal-property property">username</span><span class="token operator">:</span> vdoing
<span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token number">123456</span>
<span class="token literal-property property">expire</span><span class="token operator">:</span> 7h
<span class="token literal-property property">loginInfo</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span><span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token operator">--</span><span class="token operator">-</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>全局配置如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">privatePage</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;yougnkbt&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 管理员用户名</span>
  <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 管理员密码</span>
  <span class="token comment">// ... 其他配置</span>
  <span class="token comment">// 私密文章多组用户名密码</span>
  <span class="token literal-property property">loginInfo</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;/private1/&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;vdoing1&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>如果登录时输入：</p> <ul><li>用户名：vdoing，密码：123456，登录成功</li> <li>用户名：1，密码：1，登录成功</li> <li>用户名：youngkbt，密码：123，登录成功，因为这是管理员的账号，对所有私密文章生效</li> <li>用户名：vdoing1，密码：123，登录失败，因为出现了单私密文章配置，则以单私密文章配置为主</li></ul> <h3 id="例2"><a href="#例2" class="header-anchor">#</a> 例2</h3> <p>假设一个私密文章的 frontmatter 如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">--</span><span class="token operator">-</span>
<span class="token literal-property property">title</span><span class="token operator">:</span> 私密文章测试
<span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">07</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">01</span><span class="token operator">:</span><span class="token number">37</span>
<span class="token literal-property property">permalink</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">private1</span><span class="token regex-delimiter">/</span></span>
<span class="token keyword">private</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token literal-property property">expire</span><span class="token operator">:</span> 7h
<span class="token operator">--</span><span class="token operator">-</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>全局配置如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">privatePage</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// ... 其他配置</span>
  <span class="token comment">// 私密文章多组用户名密码</span>
  <span class="token literal-property property">loginInfo</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;/private1/&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;vdoing1&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;/privat2/&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;vdoing2&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;123456&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>如果登录时输入：</p> <ul><li>用户名：vdoing1，密码：123，登录成功，没单私密文章配置，则以全局私密文章配置为主</li> <li>用户名：vdoing2，密码：123456，登录失败，<code>/private2/</code> 并不是该私密文章的 permalink</li></ul> <p>虽然单私密文章出现了 <code>expire: 7h</code>，但是没有用户登录信息，所以仍然以全局私密信息为主。</p> <h2 id="结束语"><a href="#结束语" class="header-anchor">#</a> 结束语</h2> <p>如果你还有疑惑，可以去我的 GitHub 仓库或者 Gitee 仓库查看源码。</p> <ul><li><p><a href="https://github.com/Kele-Bingtang/Kele-Bingtang.github.io" target="_blank" rel="noopener noreferrer">GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://gitee.com/kele-bingtang/Kele-Bingtang" target="_blank" rel="noopener noreferrer">Gitee<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <p>如果你有更好的方式，评论区留言告诉我，或者加入 Vdoing 主题的 QQ 群：694387113。谢谢！</p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/Kele-Bingtang/Kele-Bingtang.github.io/edit/master/docs/80.关于/06.关于 - 本站/22.本站 - 私密文章模块.md" target="_blank" rel="noopener noreferrer">编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=%E6%9C%AC%E7%AB%99" title="标签">#本站</a></div> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2022/06/21, 00:00:04</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/about/website/lastReading/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">本站 - 记录曾阅读位置模块</div></a> <a href="/about/website/tools/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">本站 - 导航站模块</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/about/website/lastReading/" class="prev">本站 - 记录曾阅读位置模块</a></span> <span class="next"><a href="/about/website/tools/">本站 - 导航站模块</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/java/se/reflect/"><div>
            JavaSE - 反射
            <!----></div></a> <span class="date">06-20</span></dt></dl><dl><dd>02</dd> <dt><a href="/algorithm/backtracking/"><div>
            算法思想 - 回溯算法
            <!----></div></a> <span class="date">06-18</span></dt></dl><dl><dd>03</dd> <dt><a href="/algorithm/greedy/"><div>
            算法思想 - 贪心算法
            <!----></div></a> <span class="date">06-01</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/kele-bingtang" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://gitee.com/kele-bingtang" title="Gitee" target="_blank" class="iconfont icon-gitee"></a><a href="https://www.youngkbt.cn" title="网站首页" target="_blank" class="iconfont icon-rss"></a><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=28761025&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" class="iconfont icon-QQ"></a><a href="https://www.youngkbt.cn/?contact=true" title="联系我" target="_blank" class="iconfont icon-youjian"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2022
    <span>Young Kbt  | blog<br> <a href="http://beian.miit.gov.cn/" target="_blank">桂ICP备2021009994号</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div><div></div><div></div><div></div><div id="tcomment"></div><!----><APlayer audio="" fixed="true" mini="true" theme="#b7daff" loop="loop" order="list" preload="auto" volume="0.7" mutex="true" lrc-type="0" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer><div></div></div></div>
    <script src="/assets/js/app.54d6ba7b.js" defer></script><script src="/assets/js/2.987bc333.js" defer></script><script src="/assets/js/335.6d41b768.js" defer></script><script src="/assets/js/15.0df286a9.js" defer></script><script src="/assets/js/8.2849a6c1.js" defer></script><script src="/assets/js/10.d2509b9c.js" defer></script><script src="/assets/js/16.51e1ec1e.js" defer></script><script src="/assets/js/12.b3f130f5.js" defer></script>
  </body>
</html>
